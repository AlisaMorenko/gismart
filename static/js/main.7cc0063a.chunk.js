(this.webpackJsonpgismart=this.webpackJsonpgismart||[]).push([[0],{14:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(6),n=a.n(r),i=(a(14),a(3)),l="https://dummyapi.io/data/v1";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something went wrong..."))}))}function u(e){var t={method:"POST",headers:{"app-id":"6154537832884b1a024b2f3c","Content-Type":"application/json"},body:JSON.stringify(e)};return o("".concat(l,"/user/create"),t)}var j=a(4),b=a.n(j),d=a(8),m=a.n(d),O=a(9),h=a(2),p=a.n(h),f=a(0),N=document.querySelector("#modal-root");var _=function(e){var t=e.onClose,a=e.onShow,c=e.onError,n=Object(s.useState)(""),l=Object(i.a)(n,2),o=l[0],j=l[1],b=Object(s.useState)(""),d=Object(i.a)(b,2),h=d[0],_=d[1],x=Object(s.useState)(""),g=Object(i.a)(x,2),v=g[0],w=g[1],S=Object(s.useState)(""),y=Object(i.a)(S,2),C=y[0],L=y[1],U=Object(s.useState)(""),k=Object(i.a)(U,2),A=k[0],E=k[1],B=Object(s.useState)(""),T=Object(i.a)(B,2),M=T[0],R=T[1],P=Object(s.useState)(!1),F=Object(i.a)(P,2),I=F[0],q=F[1],Z=Object(s.useState)(!1),J=Object(i.a)(Z,2),z=J[0],D=J[1],W=Object(s.useState)(!1),H=Object(i.a)(W,2),Y=H[0],$=H[1],K=Object(s.useState)(!1),Q=Object(i.a)(K,2),V=Q[0],G=Q[1],X=Object(s.useState)("Required field"),ee=Object(i.a)(X,2),te=ee[0],ae=ee[1],se=Object(s.useState)("Required field"),ce=Object(i.a)(se,2),re=ce[0],ne=ce[1],ie=Object(s.useState)("Required field"),le=Object(i.a)(ie,2),oe=le[0],ue=le[1],je=Object(s.useState)(""),be=Object(i.a)(je,2),de=be[0],me=be[1],Oe=Object(s.useState)(!1),he=Object(i.a)(Oe,2),pe=he[0],fe=he[1],Ne=function(e){var t=e.currentTarget,a=t.name,s=t.value;switch(a){case"title":j(s);break;case"firstName":_(s),s.length<2||s.length>50?ae("Name must be 2-50 characters long"):ae("");break;case"lastName":w(s),s.length<2||s.length>50?ne("Name must be 2-50 characters long"):ne("");break;case"email":L(s);/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(s).toLowerCase())?ue(""):ue("Uncorrect email");break;case"picture":E(s);/^(https?|ftp|torrent|image|irc):\/\/(-\.)?([^\s\/?\.#-]+\.?)+(\/[^\s]*)?$/i.test(String(s).toLowerCase())?me(""):me("Uncorrect URL. Please, use another url or live this field empty.");break;default:return console.log("err")}},_e=function(e){switch(e.target.name){case"firstName":q(!0);break;case"lastName":D(!0);break;case"email":$(!0);break;case"picture":G(!0);break;default:return console.log("err")}};Object(s.useEffect)((function(){fe(!(te||re||oe||de))}),[te,re,oe,de]);var xe=function(){var e=Object(O.a)(m.a.mark((function e(s){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),r={firstName:h,lastName:v,email:C,picture:A},o.length>0&&(r={title:o,firstName:h,lastName:v,email:C,picture:A}),e.next=5,u(r).then(a(r)).catch((function(e){R(e.message),c(e.message)}));case 5:ge(),t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){j(""),_(""),w(""),L(""),E("")};Object(s.useEffect)((function(){return window.addEventListener("keydown",ve),function(){window.removeEventListener("keydown",ve)}}));var ve=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(f.jsx)("div",{className:p.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(f.jsxs)("div",{className:p.a.modal,children:[Object(f.jsx)("button",{className:p.a.closeBtn,onClick:t,children:Object(f.jsx)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.58942 10.3673L14.5317 16.3897C15.0965 16.9621 16.0116 16.9618 16.5764 16.3894C17.1411 15.817 17.1411 14.8891 16.5764 14.3168L10.6344 8.29466L16.1715 2.68285C16.7363 2.11047 16.7363 1.18263 16.1712 0.610595C15.6064 0.0382107 14.691 0.0382107 14.1262 0.610595L8.58942 6.22205L2.87377 0.429288C2.309 -0.143096 1.39352 -0.143096 0.828755 0.429288C0.263991 1.00167 0.26399 1.92951 0.828755 2.50189L6.54441 8.29466L0.423573 14.4981C-0.141191 15.0705 -0.141191 15.9983 0.423574 16.5707C0.988338 17.1431 1.90382 17.1431 2.46859 16.5707L8.58942 10.3673Z",fill:"white"})})}),Object(f.jsxs)("form",{autoComplete:"off",onSubmit:xe,className:p.a.form,children:[Object(f.jsx)("label",{className:p.a.field,children:Object(f.jsxs)("select",{name:"title",value:o,onChange:Ne,className:p.a.input,children:[Object(f.jsx)("option",{value:"",children:"Choose status"}),Object(f.jsx)("option",{value:"mr",children:"MR"}),Object(f.jsx)("option",{value:"mrs",children:"MRS"}),Object(f.jsx)("option",{value:"miss",children:"Miss"}),Object(f.jsx)("option",{value:"dr",children:"Dr"}),Object(f.jsx)("option",{value:"ms",children:"MS"})]})}),Object(f.jsxs)("label",{className:p.a.field,children:[Object(f.jsx)("span",{className:p.a.label,children:"First Name"}),Object(f.jsx)("input",{type:"text",name:"firstName",value:h,onBlur:_e,onChange:Ne,className:p.a.input}),I&&te&&Object(f.jsx)("p",{className:p.a.error,children:te})]}),Object(f.jsxs)("label",{className:p.a.field,children:[Object(f.jsx)("span",{className:p.a.label,children:"Last Name"}),Object(f.jsx)("input",{type:"text",name:"lastName",value:v,onBlur:_e,onChange:Ne,className:p.a.input}),z&&re&&Object(f.jsx)("p",{className:p.a.error,children:re})]}),Object(f.jsxs)("label",{className:p.a.field,children:[Object(f.jsx)("span",{className:p.a.label,children:"Email"}),Object(f.jsx)("input",{type:"email",name:"email",value:C,onBlur:_e,onChange:Ne,className:p.a.input}),Y&&oe&&Object(f.jsx)("p",{className:p.a.error,children:oe})]}),Object(f.jsxs)("label",{className:p.a.field,children:[Object(f.jsx)("span",{className:p.a.label,children:"Avatar"}),Object(f.jsx)("input",{type:"url",name:"picture",placeholder:"URL http://...",value:A,onBlur:_e,onChange:Ne,className:p.a.input}),V&&de&&Object(f.jsx)("p",{className:p.a.error,children:de})]}),Object(f.jsx)("button",{disabled:!pe,type:"submit",className:p.a.confirm,children:"Add"})]}),M&&Object(f.jsx)("p",{className:p.a.error,children:"Sorry... Try again later..."})]})}),N)},x=a(5),g=a.n(x),v=function(e){var t=e.onRender,a=e.onError;return Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsx)("p",{className:g.a.error,children:"Sorry, but User wasn`t added..."}),!a&&Object(f.jsxs)("div",{className:g.a.successMsg,children:[Object(f.jsxs)("h2",{className:g.a.success,children:["User ",t.title," ",t.firstName," ",t.lastName," added successfully!"]}),t.picture&&Object(f.jsx)("div",{className:g.a.thumb,children:Object(f.jsx)("img",{className:g.a.img,src:t.picture,alt:"new User"})})]})]})};var w=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)(!1),n=Object(i.a)(r,2),u=n[0],j=n[1],d=Object(s.useState)(null),m=Object(i.a)(d,2),O=m[0],h=m[1],p=Object(s.useState)(""),N=Object(i.a)(p,2),x=N[0],g=N[1],w=Object(s.useState)(""),S=Object(i.a)(w,2),y=S[0],C=S[1];return Object(s.useEffect)((function(){o("".concat(l,"/user"),{headers:{"app-id":"6154537832884b1a024b2f3c","Content-Type":"application/json"}}).then((function(e){return e.data})).then((function(e){return c(e)})).catch((function(e){return g(e.message)}))}),[O,y]),Object(f.jsxs)("main",{children:[Object(f.jsxs)("section",{className:b.a.container,children:[Object(f.jsx)("h1",{className:b.a.title,children:"Our Users"}),O&&Object(f.jsx)(v,{onRender:O,onError:y}),x&&Object(f.jsx)("p",{className:b.a.error,children:"Sorry... Try again later..."}),Object(f.jsx)("button",{type:"button",className:b.a.add,onClick:function(){j(!0),C(""),h(null)},children:"Join"}),Object(f.jsx)("ul",{className:b.a.usersList,children:a.map((function(e){var t=e.id,a=e.title,s=e.firstName,c=e.lastName,r=e.picture;return Object(f.jsxs)("li",{className:b.a.listItem,children:[Object(f.jsx)("div",{className:b.a.thumb,children:Object(f.jsx)("img",{src:r,alt:c})}),Object(f.jsxs)("h2",{className:b.a.userName,children:[a," ",s," ",c]})]},t)}))})]}),u&&Object(f.jsx)(_,{onClose:function(){return j(!1)},onShow:function(e){h(e)},onError:function(e){C(e)}})]})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,n=t.getTTFB;a(e),s(e),c(e),r(e),n(e)}))};a(17);n.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root")),S()},2:function(e,t,a){e.exports={overlay:"addNewUser_overlay__2wSxu",modal:"addNewUser_modal__2YZ7u",closeBtn:"addNewUser_closeBtn__3YEL0",form:"addNewUser_form__3Ng0o",field:"addNewUser_field__I3Ogg",label:"addNewUser_label__nE1IP",input:"addNewUser_input__dbvHe",error:"addNewUser_error__HiKFW",confirm:"addNewUser_confirm__2cAiA"}},4:function(e,t,a){e.exports={container:"App_container__zpVjv",title:"App_title__2Q3t9",add:"App_add__97qp1",usersList:"App_usersList__3uLsU",listItem:"App_listItem__3ZSBA",userName:"App_userName__1yOTP",thumb:"App_thumb__2_UT9",error:"App_error__o9f97"}},5:function(e,t,a){e.exports={error:"message_error__1klha",successMsg:"message_successMsg__2NEBW",success:"message_success__yWc3n",thumb:"message_thumb__2a82A",img:"message_img__3TU-N"}}},[[18,1,2]]]);
//# sourceMappingURL=main.7cc0063a.chunk.js.map